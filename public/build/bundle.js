var app=function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function s(){return Object.create(null)}function i(e){e.forEach(n)}function r(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}const l="undefined"!=typeof window;let a=l?()=>window.performance.now():()=>Date.now(),c=l?e=>requestAnimationFrame(e):e;const u=new Set;function p(e){u.forEach((t=>{t.c(e)||(u.delete(t),t.f())})),0!==u.size&&c(p)}function h(e,t){e.appendChild(t)}function d(e,t,n){e.insertBefore(t,n||null)}function f(e){e.parentNode.removeChild(e)}function m(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function g(e){return document.createElement(e)}function $(e){return document.createTextNode(e)}function y(){return $(" ")}function v(){return $("")}function z(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function b(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function S(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function w(e,t,n){e.classList[n?"add":"remove"](t)}function x(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}const _=new Set;let k,O=0;function C(e,t,n,s,i,r,o,l=0){const a=16.666/s;let c="{\n";for(let e=0;e<=1;e+=a){const s=t+(n-t)*r(e);c+=100*e+`%{${o(s,1-s)}}\n`}const u=c+`100% {${o(n,1-n)}}\n}`,p=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${l}`,h=e.ownerDocument;_.add(h);const d=h.__svelte_stylesheet||(h.__svelte_stylesheet=h.head.appendChild(g("style")).sheet),f=h.__svelte_rules||(h.__svelte_rules={});f[p]||(f[p]=!0,d.insertRule(`@keyframes ${p} ${u}`,d.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${p} ${s}ms linear ${i}ms 1 both`,O+=1,p}function E(e,t){const n=(e.style.animation||"").split(", "),s=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),i=n.length-s.length;i&&(e.style.animation=s.join(", "),O-=i,O||c((()=>{O||(_.forEach((e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}})),_.clear())})))}function M(e){k=e}function P(){if(!k)throw new Error("Function called outside component initialization");return k}function G(){const e=P();return(t,n)=>{const s=e.$$.callbacks[t];if(s){const i=x(t,n);s.slice().forEach((t=>{t.call(e,i)}))}}}const T=[],q=[],L=[],A=[],N=Promise.resolve();let I=!1;function H(){I||(I=!0,N.then(B))}function R(e){L.push(e)}function Y(e){A.push(e)}let j=!1;const U=new Set;function B(){if(!j){j=!0;do{for(let e=0;e<T.length;e+=1){const t=T[e];M(t),D(t.$$)}for(M(null),T.length=0;q.length;)q.pop()();for(let e=0;e<L.length;e+=1){const t=L[e];U.has(t)||(U.add(t),t())}L.length=0}while(T.length);for(;A.length;)A.pop()();I=!1,j=!1,U.clear()}}function D(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(R)}}let F;function W(e,t,n){e.dispatchEvent(x(`${t?"intro":"outro"}${n}`))}const V=new Set;let J;function K(){J={r:0,c:[],p:J}}function Q(){J.r||i(J.c),J=J.p}function X(e,t){e&&e.i&&(V.delete(e),e.i(t))}function Z(e,t,n,s){if(e&&e.o){if(V.has(e))return;V.add(e),J.c.push((()=>{V.delete(e),s&&(n&&e.d(1),s())})),e.o(t)}}const ee={duration:0};function te(n,s,o,l){let h=s(n,o),d=l?0:1,f=null,m=null,g=null;function $(){g&&E(n,g)}function y(e,t){const n=e.b-d;return t*=Math.abs(n),{a:d,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function v(s){const{delay:r=0,duration:o=300,easing:l=t,tick:v=e,css:z}=h||ee,b={start:a()+r,b:s};s||(b.group=J,J.r+=1),f||m?m=b:(z&&($(),g=C(n,d,s,o,r,l,z)),s&&v(0,1),f=y(b,o),R((()=>W(n,s,"start"))),function(e){let t;0===u.size&&c(p),new Promise((n=>{u.add(t={c:e,f:n})}))}((e=>{if(m&&e>m.start&&(f=y(m,o),m=null,W(n,f.b,"start"),z&&($(),g=C(n,d,f.b,f.duration,0,l,h.css))),f)if(e>=f.end)v(d=f.b,1-d),W(n,f.b,"end"),m||(f.b?$():--f.group.r||i(f.group.c)),f=null;else if(e>=f.start){const t=e-f.start;d=f.a+f.d*l(t/f.duration),v(d,1-d)}return!(!f&&!m)})))}return{run(e){r(h)?(F||(F=Promise.resolve(),F.then((()=>{F=null}))),F).then((()=>{h=h(),v(e)})):v(e)},end(){$(),f=m=null}}}function ne(e,t,n){const s=e.$$.props[t];void 0!==s&&(e.$$.bound[s]=n,n(e.$$.ctx[s]))}function se(e){e&&e.c()}function ie(e,t,s){const{fragment:o,on_mount:l,on_destroy:a,after_update:c}=e.$$;o&&o.m(t,s),R((()=>{const t=l.map(n).filter(r);a?a.push(...t):i(t),e.$$.on_mount=[]})),c.forEach(R)}function re(e,t){const n=e.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function oe(t,n,r,o,l,a,c=[-1]){const u=k;M(t);const p=t.$$={fragment:null,ctx:null,props:a,update:e,not_equal:l,bound:s(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:s(),dirty:c,skip_bound:!1};let h=!1;if(p.ctx=r?r(t,n.props||{},((e,n,...s)=>{const i=s.length?s[0]:n;return p.ctx&&l(p.ctx[e],p.ctx[e]=i)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](i),h&&function(e,t){-1===e.$$.dirty[0]&&(T.push(e),H(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n})):[],p.update(),h=!0,i(p.before_update),p.fragment=!!o&&o(p.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);p.fragment&&p.fragment.l(e),e.forEach(f)}else p.fragment&&p.fragment.c();n.intro&&X(t.$$.fragment),ie(t,n.target,n.anchor),B()}M(u)}class le{$destroy(){re(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function ae(e,t,n){const s=e.slice();return s[23]=t[n],s}function ce(e){let t,n,s,r,o,l,a=e[1].misses.includes(e[23])?"&#10005;":"";function c(){return e[16](e[23])}function u(){return e[17](e[23])}return{c(){t=g("div"),n=g("p"),s=y(),b(n,"class","svelte-19u7kvv"),w(n,"large","grid-1"==e[2]),b(t,"id",r=e[23]),b(t,"class","grid-square svelte-19u7kvv"),w(t,"ship",e[3]?e[7]().includes(e[23]):e[6]().includes(e[23])),w(t,"selectedShip",e[0]&&e[0].pos.includes(e[23])),w(t,"disable","grid-2"==e[2]),w(t,"overlap",e[7]().includes(e[23])||e[6]().includes(e[23])&&e[0]&&e[0].pos.includes(e[23]))},m(e,i){d(e,t,i),h(t,n),n.innerHTML=a,h(t,s),o||(l=[z(t,"mouseenter",c),z(t,"click",u)],o=!0)},p(s,i){e=s,34&i&&a!==(a=e[1].misses.includes(e[23])?"&#10005;":"")&&(n.innerHTML=a),4&i&&w(n,"large","grid-1"==e[2]),32&i&&r!==(r=e[23])&&b(t,"id",r),232&i&&w(t,"ship",e[3]?e[7]().includes(e[23]):e[6]().includes(e[23])),33&i&&w(t,"selectedShip",e[0]&&e[0].pos.includes(e[23])),4&i&&w(t,"disable","grid-2"==e[2]),225&i&&w(t,"overlap",e[7]().includes(e[23])||e[6]().includes(e[23])&&e[0]&&e[0].pos.includes(e[23]))},d(e){e&&f(t),o=!1,i(l)}}}function ue(t){let n,s,i,r=t[5],o=[];for(let e=0;e<r.length;e+=1)o[e]=ce(ae(t,r,e));return{c(){n=g("div");for(let e=0;e<o.length;e+=1)o[e].c();b(n,"ref",t[2]),b(n,"class","grid-container svelte-19u7kvv")},m(e,r){d(e,n,r);for(let e=0;e<o.length;e+=1)o[e].m(n,null);s||(i=z(n,"mouseleave",t[18]),s=!0)},p(e,[t]){if(767&t){let s;for(r=e[5],s=0;s<r.length;s+=1){const i=ae(e,r,s);o[s]?o[s].p(i,t):(o[s]=ce(i),o[s].c(),o[s].m(n,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=r.length}4&t&&b(n,"ref",e[2])},i:e,o:e,d(e){e&&f(n),m(o,e),s=!1,i()}}}function pe(e,t,n){let s,i;const r=G();let o,{ref:l}=t,{state:a}=t,{ships:c}=t,{selectedShip:u}=t,{orientation:p}=t,{hasOverlap:h}=t,{hideShips:d=!1}=t,{guesses:f}=t,{activePlayer:m}=t,g=[];var $;function y(){u&&n(0,u.pos=[],u),n(4,o=null)}function v(){if("placement"===a&&u)b()&&n(0,u=null);else if("placement"!==a||u){if("player"==m){let e=!1;c.forEach(((t,s)=>{t.pos.includes(o)&&!f.hits.includes(o)&&(n(10,c[s]={...t,hits:[...t.hits,o]},c),e=!0,n(1,f={...f,hits:[...f.hits,o]}),r("turn",{guesses:f,activePlayer:"opponent"}))})),e||f.misses.includes(o)||f.hits.includes(o)||(n(1,f={...f,misses:[...f.misses,o]}),r("turn",{guesses:f,activePlayer:"opponent"}))}}else c.forEach((e=>{if(e.pos.includes(o)){let t={...e};n(10,c[c.findIndex((e=>e.type===t.type))].pos=[],c),n(0,u=t)}}))}function z(){if(u){let e=o.split("").map((e=>parseInt(e))),t=e[0],s=e[1],i=[];const r=(e,t)=>e>10-t?10-t:e;if("horizontal"===p){t=r(e[0],u.size);for(let e=t;e<t+u.size;e++)i.push(`${e}${s}`)}else{s=r(e[1],u.size);for(let e=s;e<s+u.size;e++)i.push(`${t}${e}`)}n(0,u={...u,pos:i})}}function b(){if(u.pos.every((e=>!s().includes(e)))){n(12,h=!1);let e=c.findIndex((e=>e.type===u.type));return n(10,c[e]=u,c),!0}return n(12,h=!0),!1}$=()=>function(){for(let e=0;e<10;e++)for(let t=0;t<10;t++)n(5,g=[...g,`${t}${e}`])}(),P().$$.on_mount.push($);return e.$$set=e=>{"ref"in e&&n(2,l=e.ref),"state"in e&&n(13,a=e.state),"ships"in e&&n(10,c=e.ships),"selectedShip"in e&&n(0,u=e.selectedShip),"orientation"in e&&n(11,p=e.orientation),"hasOverlap"in e&&n(12,h=e.hasOverlap),"hideShips"in e&&n(3,d=e.hideShips),"guesses"in e&&n(1,f=e.guesses),"activePlayer"in e&&n(14,m=e.activePlayer)},e.$$.update=()=>{1025&e.$$.dirty&&n(6,s=()=>u?c.map((e=>e.type!==u.type?e.pos:[])).flat():c.map((e=>e.pos)).flat()),1024&e.$$.dirty&&n(7,i=()=>c.map((e=>e.hits)).flat()),2065&e.$$.dirty&&p&&u&&o&&z()},[u,f,l,d,o,g,s,i,y,v,c,p,h,a,m,function(){const e=["horizontal","vertical"],t=()=>e[Math.floor(2*Math.random())],s=()=>`${Math.floor(10*Math.random())}${Math.floor(10*Math.random())}`;c.forEach((e=>{for(n(4,o=s()),n(11,p=t()),n(0,u=e),z();!b();)n(4,o=s()),n(11,p=t()),z();n(0,u=null),n(4,o=null)}))},e=>n(4,o=e),e=>v(),()=>y()]}class he extends le{constructor(e){super(),oe(this,e,pe,ue,o,{ref:2,state:13,ships:10,selectedShip:0,orientation:11,hasOverlap:12,hideShips:3,guesses:1,activePlayer:14,placeRandom:15})}get placeRandom(){return this.$$.ctx[15]}}function de(e,t,n){const s=e.slice();return s[7]=t[n],s}function fe(e){let t,n,s,r,o,l,a,c,u,p=e[7].type.charAt(0).toUpperCase()+e[7].type.slice(1)+"",m=e[7].size+"",v=e[2]&&e[2].type===e[7].type?" <--":"";function x(){return e[4](e[7])}function _(){return e[5](e[7])}return{c(){t=g("li"),n=$(p),s=$("\n                ("),r=$(m),o=$(") "),l=$(v),a=y(),b(t,"class","svelte-l0p38j"),w(t,"selectedShip",e[1]&&e[1].type===e[7].type),w(t,"placed",e[7].pos.length>0),w(t,"sunk",e[7].hits.length==e[7].size)},m(i,p){d(i,t,p),h(t,n),h(t,s),h(t,r),h(t,o),h(t,l),h(t,a),c||(u=[z(t,"click",x),z(t,"mouseenter",_),z(t,"mouseleave",e[6])],c=!0)},p(s,i){e=s,1&i&&p!==(p=e[7].type.charAt(0).toUpperCase()+e[7].type.slice(1)+"")&&S(n,p),1&i&&m!==(m=e[7].size+"")&&S(r,m),5&i&&v!==(v=e[2]&&e[2].type===e[7].type?" <--":"")&&S(l,v),3&i&&w(t,"selectedShip",e[1]&&e[1].type===e[7].type),1&i&&w(t,"placed",e[7].pos.length>0),1&i&&w(t,"sunk",e[7].hits.length==e[7].size)},d(e){e&&f(t),c=!1,i(u)}}}function me(t){let n,s,i,r,o,l,a=t[0],c=[];for(let e=0;e<a.length;e+=1)c[e]=fe(de(t,a,e));return{c(){n=g("div"),s=g("h3"),s.textContent="Select Ship",i=y(),r=g("hr"),o=y(),l=g("ul");for(let e=0;e<c.length;e+=1)c[e].c();var e,t,a;e="margin-left",t="20px",s.style.setProperty(e,t,a?"important":""),b(l,"class","svelte-l0p38j"),b(n,"id","select-container")},m(e,t){d(e,n,t),h(n,s),h(n,i),h(n,r),h(n,o),h(n,l);for(let e=0;e<c.length;e+=1)c[e].m(l,null)},p(e,[t]){if(15&t){let n;for(a=e[0],n=0;n<a.length;n+=1){const s=de(e,a,n);c[n]?c[n].p(s,t):(c[n]=fe(s),c[n].c(),c[n].m(l,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=a.length}},i:e,o:e,d(e){e&&f(n),m(c,e)}}}function ge(e,t,n){let{ships:s}=t,{selectedShip:i}=t,r=null;function o(e){n(1,i=e),n(0,s[s.findIndex((t=>t.type===e.type))].pos=[],s)}return e.$$set=e=>{"ships"in e&&n(0,s=e.ships),"selectedShip"in e&&n(1,i=e.selectedShip)},[s,i,r,o,e=>o(e),e=>n(2,r=e),()=>n(2,r=null)]}class $e extends le{constructor(e){super(),oe(this,e,ge,me,o,{ships:0,selectedShip:1})}}function ye(t){let n,s,r,o,l,a;return{c(){n=g("div"),s=g("div"),s.textContent="⚄",r=y(),o=g("div"),o.textContent="⬚",b(s,"class","svelte-1xm96op"),b(o,"class","svelte-1xm96op"),b(n,"id","options-container"),b(n,"class","svelte-1xm96op")},m(e,i){d(e,n,i),h(n,s),h(n,r),h(n,o),l||(a=[z(s,"click",t[2]),z(o,"click",t[3])],l=!0)},p:e,i:e,o:e,d(e){e&&f(n),l=!1,i(a)}}}function ve(e,t,n){const s=G();let{state:i}=t;function r(e){"placement"==i&&s(e)}return e.$$set=e=>{"state"in e&&n(1,i=e.state)},[r,i,()=>r("random"),()=>r("clear")]}class ze extends le{constructor(e){super(),oe(this,e,ve,ye,o,{state:1})}}function be(e){let t;return{c(){t=$("↓")},m(e,n){d(e,t,n)},d(e){e&&f(t)}}}function Se(e){let t;return{c(){t=$("→")},m(e,n){d(e,t,n)},d(e){e&&f(t)}}}function we(t){let n,s,r;function o(e,t){return"horizontal"===e[0]?Se:be}let l=o(t),a=l(t);return{c(){n=g("h2"),a.c(),b(n,"class","svelte-13xad3u")},m(e,i){d(e,n,i),a.m(n,null),s||(r=[z(window,"keydown",t[2]),z(n,"click",t[3])],s=!0)},p(e,[t]){l!==(l=o(e))&&(a.d(1),a=l(e),a&&(a.c(),a.m(n,null)))},i:e,o:e,d(e){e&&f(n),a.d(),s=!1,i(r)}}}function xe(e,t,n){let{orientation:s}=t;function i(e){e&&32===e.keyCode?n(0,s="horizontal"===s?"vertical":"horizontal"):e||n(0,s="horizontal"===s?"vertical":"horizontal")}return e.$$set=e=>{"orientation"in e&&n(0,s=e.orientation)},[s,i,e=>i(e),()=>i()]}class _e extends le{constructor(e){super(),oe(this,e,xe,we,o,{orientation:0})}}function ke(e,t,n){const s=e.slice();return s[10]=t[n],s[12]=n,s}function Oe(e){let t,n,s,i,r,o=e[10].msg+"";return{c(){t=g("div"),n=g("div"),n.textContent="--\x3e",s=y(),i=g("p"),r=y(),b(n,"class","identifier svelte-xaipah"),b(i,"id",e[12]),b(i,"class","svelte-xaipah"),b(t,"id",e[12]),b(t,"class","message")},m(l,a){d(l,t,a),h(t,n),h(t,s),h(t,i),i.innerHTML=o,e[7](i),h(t,r)},p(e,t){2&t&&o!==(o=e[10].msg+"")&&(i.innerHTML=o)},d(n){n&&f(t),e[7](null)}}}function Ce(t){let n,s=t[1],i=[];for(let e=0;e<s.length;e+=1)i[e]=Oe(ke(t,s,e));return{c(){n=g("div");for(let e=0;e<i.length;e+=1)i[e].c();b(n,"ref",t[0]),b(n,"class","message-container svelte-xaipah")},m(e,t){d(e,n,t);for(let e=0;e<i.length;e+=1)i[e].m(n,null)},p(e,[t]){if(6&t){let r;for(s=e[1],r=0;r<s.length;r+=1){const o=ke(e,s,r);i[r]?i[r].p(o,t):(i[r]=Oe(o),i[r].c(),i[r].m(n,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=s.length}1&t&&b(n,"ref",e[0])},i:e,o:e,d(e){e&&f(n),m(i,e)}}}function Ee(e,t,n){let{ref:s}=t,{state:i}=t,{hasOverlap:r}=t,{numOfShipsPlaced:o}=t;const l={welcome:{id:"welcome",msg:"Welcome to <strong>Battleship!</strong> To get started select a ship and place it on the grid..."},placement1:{id:"placement1",msg:"Great. You can also <strong>change the orientation</strong> of a ship by <strong>clicking on the arrow</strong> to the right or by <strong>pressing Space</strong>. Now go ahead and place the rest of your ships."},placement2:{id:"placement2",msg:"If you like, you can quickly <strong>place all you ships</strong> randomly by <strong>clicking on the dice icon</strong>."},overlap:{id:"overlap",msg:"You won't be able to place a ship if it is overlaping with another!"},overlap2:{id:"overlap2",msg:"Try placing the ship on a grid square not already occupied by a ship."},clear:{id:"clear",msg:"You can quickly <strong>clear the grid</strong> by <strong>clicking on the dashed square</strong> next to the dice icon."},play:{id:"play",msg:"If you're happy with the arbitrary placement of your ships, you can now choose to play a game!"},prematureStart:{id:"prematureStart",msg:"You will need to place all of your ships before being able to start a game."},start:{id:"start",msg:"It's now up you to guess where on the grid your opponents ships are... <strong>Start by clicking anywhere on the grid</strong>. Good luck!"}};let a,c=[l.welcome];async function u(e,t){let s=t?{...e,msg:e.msg+t}:e;n(1,c=[...c,s]),await(H(),N),a.scrollIntoView()}return e.$$set=e=>{"ref"in e&&n(0,s=e.ref),"state"in e&&n(3,i=e.state),"hasOverlap"in e&&n(4,r=e.hasOverlap),"numOfShipsPlaced"in e&&n(5,o=e.numOfShipsPlaced)},e.$$.update=()=>{58&e.$$.dirty&&"placement"==i&&(r&&c.includes(l.overlap)?u(l.overlap2):r&&u(l.overlap),1!=o||c.includes(l.placement1)||u(l.placement1),3!=o||c.includes(l.placement2)||u(l.placement2),o>4&&!c.includes(l.clear)&&u(l.clear),5!=o||c.includes(l.play)||u(l.play))},[s,c,a,i,r,o,function(e){e||0!=o||c.includes(l.prematureStart)?!e&&o>0?u(l.prematureStart," <strong>Continue adding the rest of your ships</strong>."):e&&n(1,c=[l.start]):u(l.prematureStart," <strong>Start by selecting a ship and placing it on the grid</strong>.")},function(e){q[e?"unshift":"push"]((()=>{a=e,n(2,a)}))}]}class Me extends le{constructor(e){super(),oe(this,e,Ee,Ce,o,{ref:0,state:3,hasOverlap:4,numOfShipsPlaced:5,startGameMsg:6})}get startGameMsg(){return this.$$.ctx[6]}}function Pe(e,{delay:n=0,duration:s=400,easing:i=t}={}){const r=+getComputedStyle(e).opacity;return{delay:n,duration:s,easing:i,css:e=>"opacity: "+e*r}}function Ge(e){let t,n,s,i,r,o;return{c(){t=g("div"),n=g("h3"),n.textContent="New Game",b(n,"class","svelte-z04hzh"),b(t,"ref",e[0]),b(t,"class","alert-container inactive svelte-z04hzh")},m(s,l){d(s,t,l),h(t,n),i=!0,r||(o=z(t,"click",e[10]),r=!0)},p(e,n){(!i||1&n)&&b(t,"ref",e[0])},i(e){i||(R((()=>{s||(s=te(t,Pe,{},!0)),s.run(1)})),i=!0)},o(e){s||(s=te(t,Pe,{},!1)),s.run(0),i=!1},d(e){e&&f(t),e&&s&&s.end(),r=!1,o()}}}function Te(e){let t,n,s,r,o,l,a,c,u,p,m;return{c(){t=g("div"),n=g("h3"),n.textContent="Are you sure?",s=y(),r=g("div"),o=g("p"),o.textContent="YES",l=y(),a=g("p"),a.textContent="NO",b(n,"class","svelte-z04hzh"),b(o,"class","yes-no svelte-z04hzh"),b(a,"class","yes-no svelte-z04hzh"),b(r,"id","yes-no-container"),b(r,"class","svelte-z04hzh"),b(t,"ref",e[0]),b(t,"class","alert-container active svelte-z04hzh")},m(i,c){d(i,t,c),h(t,n),h(t,s),h(t,r),h(r,o),h(r,l),h(r,a),u=!0,p||(m=[z(o,"click",e[8]),z(a,"click",e[9])],p=!0)},p(e,n){(!u||1&n)&&b(t,"ref",e[0])},i(e){u||(R((()=>{c||(c=te(t,Pe,{},!0)),c.run(1)})),u=!0)},o(e){c||(c=te(t,Pe,{},!1)),c.run(0),u=!1},d(e){e&&f(t),e&&c&&c.end(),p=!1,i(m)}}}function qe(e){let t,n,s,i;const r=[Ae,Le],o=[];function l(e,t){return e[2]?0:1}return t=l(e),n=o[t]=r[t](e),{c(){n.c(),s=v()},m(e,n){o[t].m(e,n),d(e,s,n),i=!0},p(e,i){let a=t;t=l(e),t===a?o[t].p(e,i):(K(),Z(o[a],1,1,(()=>{o[a]=null})),Q(),n=o[t],n?n.p(e,i):(n=o[t]=r[t](e),n.c()),X(n,1),n.m(s.parentNode,s))},i(e){i||(X(n),i=!0)},o(e){Z(n),i=!1},d(e){o[t].d(e),e&&f(s)}}}function Le(e){let t,n,s,i,r,o;return{c(){t=g("div"),n=g("h3"),n.textContent="Start Game",b(n,"class","svelte-z04hzh"),b(t,"ref",e[0]),b(t,"class","alert-container inactive svelte-z04hzh")},m(s,l){d(s,t,l),h(t,n),i=!0,r||(o=z(t,"click",e[7]),r=!0)},p(e,n){(!i||1&n)&&b(t,"ref",e[0])},i(e){i||(R((()=>{s||(s=te(t,Pe,{},!0)),s.run(1)})),i=!0)},o(e){s||(s=te(t,Pe,{},!1)),s.run(0),i=!1},d(e){e&&f(t),e&&s&&s.end(),r=!1,o()}}}function Ae(e){let t,n,s,i,r,o;return{c(){t=g("div"),n=g("h3"),n.textContent="Start Game",b(n,"class","svelte-z04hzh"),b(t,"ref",e[0]),b(t,"class","alert-container active svelte-z04hzh")},m(s,l){d(s,t,l),h(t,n),i=!0,r||(o=z(t,"click",e[6]),r=!0)},p(e,n){(!i||1&n)&&b(t,"ref",e[0])},i(e){i||(R((()=>{s||(s=te(t,Pe,{},!0)),s.run(1)})),i=!0)},o(e){s||(s=te(t,Pe,{},!1)),s.run(0),i=!1},d(e){e&&f(t),e&&s&&s.end(),r=!1,o()}}}function Ne(e){let t,n,s,i;const r=[qe,Te,Ge],o=[];function l(e,t){return"placement"==e[1]?0:e[3]?1:2}return t=l(e),n=o[t]=r[t](e),{c(){n.c(),s=v()},m(e,n){o[t].m(e,n),d(e,s,n),i=!0},p(e,[i]){let a=t;t=l(e),t===a?o[t].p(e,i):(K(),Z(o[a],1,1,(()=>{o[a]=null})),Q(),n=o[t],n?n.p(e,i):(n=o[t]=r[t](e),n.c()),X(n,1),n.m(s.parentNode,s))},i(e){i||(X(n),i=!0)},o(e){Z(n),i=!1},d(e){o[t].d(e),e&&f(s)}}}function Ie(e,t,n){const s=G();let{ref:i}=t,{state:r}=t,{canStartGame:o}=t,l=!1;function a(){s("newGame"),n(3,l=!1)}return e.$$set=e=>{"ref"in e&&n(0,i=e.ref),"state"in e&&n(1,r=e.state),"canStartGame"in e&&n(2,o=e.canStartGame)},[i,r,o,l,s,a,()=>s("start"),()=>s("start"),()=>a(),()=>n(3,l=!1),()=>n(3,l=!0)]}class He extends le{constructor(e){super(),oe(this,e,Ie,Ne,o,{ref:0,state:1,canStartGame:2})}}function Re(e){let t;return{c(){t=g("div"),t.innerHTML="<h1>Y O U</h1> \n            <h1>L O S T !</h1>",b(t,"class","message svelte-qv9uo")},m(e,n){d(e,t,n)},d(e){e&&f(t)}}}function Ye(e){let t;return{c(){t=g("div"),t.innerHTML="<h1>Y O U</h1> \n            <h1>W O N !</h1>",b(t,"class","message svelte-qv9uo")},m(e,n){d(e,t,n)},d(e){e&&f(t)}}}function je(e){let t,n,s,i;function r(e,t){return(null==n||2&t)&&(n=!("player"!=e[1]())),n?Ye:Re}let o=r(e,-1),l=o(e);return{c(){t=g("div"),l.c(),b(t,"ref",e[0]),b(t,"id","message-container"),b(t,"class","svelte-qv9uo")},m(e,n){d(e,t,n),l.m(t,null),i=!0},p(e,[n]){o!==(o=r(e,n))&&(l.d(1),l=o(e),l&&(l.c(),l.m(t,null))),(!i||1&n)&&b(t,"ref",e[0])},i(e){i||(R((()=>{s||(s=te(t,Pe,{},!0)),s.run(1)})),i=!0)},o(e){s||(s=te(t,Pe,{},!1)),s.run(0),i=!1},d(e){e&&f(t),l.d(),e&&s&&s.end()}}}function Ue(e,t,n){let{ref:s}=t,{winner:i}=t;return e.$$set=e=>{"ref"in e&&n(0,s=e.ref),"winner"in e&&n(1,i=e.winner)},[s,i]}class Be extends le{constructor(e){super(),oe(this,e,Ue,je,o,{ref:0,winner:1})}}function De(e){let t,n;return t=new Be({props:{ref:"grid-1",winner:e[14]}}),{c(){se(t.$$.fragment)},m(e,s){ie(t,e,s),n=!0},p(e,n){const s={};16384&n[0]&&(s.winner=e[14]),t.$set(s)},i(e){n||(X(t.$$.fragment,e),n=!0)},o(e){Z(t.$$.fragment,e),n=!1},d(e){re(t,e)}}}function Fe(e){let t,n,s,i,r,o,l,a,c,u,p,m,$,v,z,S,x,_,k,O,C,E,M,P,G,T,L,A,N,I,H=e[14]();function R(t){e[20](t)}function j(t){e[21](t)}function U(t){e[22](t)}let B={ref:"placement"==e[0]?"grid-1":"grid-2",orientation:e[8],guesses:e[6],state:e[0]};function D(t){e[23](t)}function F(t){e[24](t)}void 0!==e[7]&&(B.selectedShip=e[7]),void 0!==e[9]&&(B.hasOverlap=e[9]),void 0!==e[2]&&(B.ships=e[2]),i=new he({props:B}),e[19](i),q.push((()=>ne(i,"selectedShip",R))),q.push((()=>ne(i,"hasOverlap",j))),q.push((()=>ne(i,"ships",U)));let W={};function V(t){e[27](t)}void 0!==e[2]&&(W.ships=e[2]),void 0!==e[7]&&(W.selectedShip=e[7]),u=new $e({props:W}),q.push((()=>ne(u,"ships",D))),q.push((()=>ne(u,"selectedShip",F))),S=new ze({props:{state:e[0]}}),S.$on("clear",e[25]),S.$on("random",e[26]);let J={};function ee(t){e[29](t)}void 0!==e[8]&&(J.orientation=e[8]),O=new _e({props:J}),q.push((()=>ne(O,"orientation",V)));let te={ref:"placement"==e[0]?"grid-2":"grid-1",state:e[0],hideShips:!0,guesses:e[5],activePlayer:e[1]};void 0!==e[3]&&(te.ships=e[3]),M=new he({props:te}),e[28](M),q.push((()=>ne(M,"ships",ee))),M.$on("turn",e[30]);let oe={ref:"messages",hasOverlap:e[9],numOfShipsPlaced:e[4],state:e[0]};T=new Me({props:oe}),e[31](T),A=new He({props:{ref:"startNew",canStartGame:e[13],state:e[0]}}),A.$on("start",e[32]),A.$on("newGame",e[33]);let le=H&&De(e);return{c(){t=g("div"),t.innerHTML="<h1>B</h1> \n        <h1>A</h1> \n        <h1>T</h1> \n        <h1>T</h1> \n        <h1>L</h1> \n        <h1>E</h1> \n        <h1>S</h1> \n        <h1>H</h1> \n        <h1>I</h1> \n        <h1>P</h1>",n=y(),s=g("div"),se(i.$$.fragment),a=y(),c=g("div"),se(u.$$.fragment),$=y(),v=g("hr"),z=y(),se(S.$$.fragment),x=y(),_=g("hr"),k=y(),se(O.$$.fragment),E=y(),se(M.$$.fragment),G=y(),se(T.$$.fragment),L=y(),se(A.$$.fragment),N=y(),le&&le.c(),b(t,"id","title"),b(t,"class","svelte-qzsom"),b(c,"id","ship-placement"),b(c,"class","svelte-qzsom"),w(c,"disable","game"==e[0]),b(s,"id","game-container"),b(s,"class","svelte-qzsom")},m(e,r){d(e,t,r),d(e,n,r),d(e,s,r),ie(i,s,null),h(s,a),h(s,c),ie(u,c,null),h(c,$),h(c,v),h(c,z),ie(S,c,null),h(c,x),h(c,_),h(c,k),ie(O,c,null),h(s,E),ie(M,s,null),h(s,G),ie(T,s,null),h(s,L),ie(A,s,null),h(s,N),le&&le.m(s,null),I=!0},p(e,t){const n={};1&t[0]&&(n.ref="placement"==e[0]?"grid-1":"grid-2"),256&t[0]&&(n.orientation=e[8]),64&t[0]&&(n.guesses=e[6]),1&t[0]&&(n.state=e[0]),!r&&128&t[0]&&(r=!0,n.selectedShip=e[7],Y((()=>r=!1))),!o&&512&t[0]&&(o=!0,n.hasOverlap=e[9],Y((()=>o=!1))),!l&&4&t[0]&&(l=!0,n.ships=e[2],Y((()=>l=!1))),i.$set(n);const a={};!p&&4&t[0]&&(p=!0,a.ships=e[2],Y((()=>p=!1))),!m&&128&t[0]&&(m=!0,a.selectedShip=e[7],Y((()=>m=!1))),u.$set(a);const h={};1&t[0]&&(h.state=e[0]),S.$set(h);const d={};!C&&256&t[0]&&(C=!0,d.orientation=e[8],Y((()=>C=!1))),O.$set(d),1&t[0]&&w(c,"disable","game"==e[0]);const f={};1&t[0]&&(f.ref="placement"==e[0]?"grid-2":"grid-1"),1&t[0]&&(f.state=e[0]),32&t[0]&&(f.guesses=e[5]),2&t[0]&&(f.activePlayer=e[1]),!P&&8&t[0]&&(P=!0,f.ships=e[3],Y((()=>P=!1))),M.$set(f);const g={};512&t[0]&&(g.hasOverlap=e[9]),16&t[0]&&(g.numOfShipsPlaced=e[4]),1&t[0]&&(g.state=e[0]),T.$set(g);const $={};8192&t[0]&&($.canStartGame=e[13]),1&t[0]&&($.state=e[0]),A.$set($),16384&t[0]&&(H=e[14]()),H?le?(le.p(e,t),16384&t[0]&&X(le,1)):(le=De(e),le.c(),X(le,1),le.m(s,null)):le&&(K(),Z(le,1,1,(()=>{le=null})),Q())},i(e){I||(X(i.$$.fragment,e),X(u.$$.fragment,e),X(S.$$.fragment,e),X(O.$$.fragment,e),X(M.$$.fragment,e),X(T.$$.fragment,e),X(A.$$.fragment,e),X(le),I=!0)},o(e){Z(i.$$.fragment,e),Z(u.$$.fragment,e),Z(S.$$.fragment,e),Z(O.$$.fragment,e),Z(M.$$.fragment,e),Z(T.$$.fragment,e),Z(A.$$.fragment,e),Z(le),I=!1},d(r){r&&f(t),r&&f(n),r&&f(s),e[19](null),re(i),re(u),re(S),re(O),e[28](null),re(M),e[31](null),re(T),re(A),le&&le.d()}}}function We(e,t,n){let s,i,r,o=["placement","game"],l=o[0],a="player",c=[{type:"carrier",size:5,hits:[],pos:[]},{type:"battleship",size:4,hits:[],pos:[]},{type:"cruiser",size:3,hits:[],pos:[]},{type:"submarine",size:3,hits:[],pos:[]},{type:"destroyer",size:2,hits:[],pos:[]}],u=[{type:"carrier",size:5,hits:[],pos:[]},{type:"battleship",size:4,hits:[],pos:[]},{type:"cruiser",size:3,hits:[],pos:[]},{type:"submarine",size:3,hits:[],pos:[]},{type:"destroyer",size:2,hits:[],pos:[]}],p={hits:[],misses:[]},h={hits:[],misses:[]},d=[];!function(){for(let e=0;e<10;e++)for(let t=0;t<10;t++)d=[...d,`${t}${e}`]}();let f,m,g,$=null,y="horizontal",v=!1;function z(){n(0,l=o[0]),n(2,c=[{type:"carrier",size:5,hits:[],pos:[]},{type:"battleship",size:4,hits:[],pos:[]},{type:"cruiser",size:3,hits:[],pos:[]},{type:"submarine",size:3,hits:[],pos:[]},{type:"destroyer",size:2,hits:[],pos:[]}]),n(3,u=[{type:"carrier",size:5,hits:[],pos:[]},{type:"battleship",size:4,hits:[],pos:[]},{type:"cruiser",size:3,hits:[],pos:[]},{type:"submarine",size:3,hits:[],pos:[]},{type:"destroyer",size:2,hits:[],pos:[]}]),n(5,p={hits:[],misses:[]}),n(6,h={hits:[],misses:[]})}function b(){n(2,c=c.map((e=>({...e,pos:[]}))))}function S(){i&&(n(0,l=o[1]),m.placeRandom()),g.startGameMsg(i)}function w(e){n(5,p=e.guesses),n(1,a=e.activePlayer)}return e.$$.update=()=>{4&e.$$.dirty[0]&&n(4,s=c.filter((e=>e.pos.length>1)).length),17&e.$$.dirty[0]&&n(13,i=5==s&&"placement"==l),12&e.$$.dirty[0]&&n(14,r=()=>17==c.map((e=>e.hits)).flat().length?"opponent":17==u.map((e=>e.hits)).flat().length?"player":void 0),2&e.$$.dirty[0]&&"opponent"==a&&setTimeout((()=>function(){let e=Math.floor(Math.random()*d.length),t=d.splice(e,1)[0],s=!1;c.forEach(((e,i)=>{e.pos.includes(t)&&(n(2,c[i]={...e,hits:[...e.hits,t]},c),s=!0)})),s||n(6,h={...h,misses:[...h.misses,t]}),n(1,a="player")}()),1e3)},[l,a,c,u,s,p,h,$,y,v,f,m,g,i,r,z,b,S,w,function(e){q[e?"unshift":"push"]((()=>{f=e,n(10,f)}))},function(e){$=e,n(7,$)},function(e){v=e,n(9,v)},function(e){c=e,n(2,c)},function(e){c=e,n(2,c)},function(e){$=e,n(7,$)},()=>b(),()=>f.placeRandom(),function(e){y=e,n(8,y)},function(e){q[e?"unshift":"push"]((()=>{m=e,n(11,m)}))},function(e){u=e,n(3,u)},e=>w(e.detail),function(e){q[e?"unshift":"push"]((()=>{g=e,n(12,g)}))},()=>S(),()=>z()]}return new class extends le{constructor(e){super(),oe(this,e,We,Fe,o,{},[-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
